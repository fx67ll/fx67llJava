# 浅谈Java和JavaScript中变量和数据类型的区别  

对于一门编程语言的学习，如果第一步是安装环境，那么第二步一定是学习这门语言的基本规则，变量和数据类型则首当其冲  
JavaScipt作为一个蹭Java热度而命名的语言，在很多方面和Java也有一定的相似之处  
所以在我决定整理复习Java知识的时候，我希望通过一篇对比的文章，来顺便复习一下JavaScipt  

当然还有一个理由就是，纯写Java或者纯写JavaScipt的文章，很多人都做过了，再写着实没什么意思 :)  


### 设计区别
1. Java是一种完全面向对象的编程语言，想要运用Java写东西就必须先设计对象；
	而JavaScript不一样，它是基于对象的一种脚本语言，它为开发者自带提供了很多内部对象，要更为简易省时  
2. Java采用静态联编，Java的对象引用必须在编译时就进行，编译器需要实现强类型检查；
	而JavaScript不同，它采用动态联编，它的对象引用可以在运行时检查
3. 它们最本质的不同就是用途，Java目前被广泛应用于PC端、手机端、互联网、数据中心等等；
	而JavaScript则被主要用于嵌入文本到HTML页面，读写HTML元素，控制cookies等
4. [设计区别中的内容参考了这篇博文 —— Java跟JavaScript两者间的关系和区别](https://www.cnblogs.com/chinasitu/p/7245203.html)


### 关于变量  
1. 不同之处
	+ 在Java中，因为其强类型语言的特性，声明变量需要明确该变量的类型，内存管理系统根据变量的类型为变量分配存储空间  
	+ 在JavaScript中，声明变量不需要指定变量类型，只需使用`var`关键字；
		不过在ES6的后续计划中，添加了`let`和`const`两个关键字用于声明不同作用的变量，但是依旧不需要声明变量类型
	+ 而且JavaScipt中的变量可以存储其他类型的变量的值，但是在Java中则有明确的类型要求，不过部分可以通过类型转换来存储其他类型的值  
	+ 值得一提的是，虽然JavaScript不要求声明变量类型，但是可以通过`new`关键字来声明其类型
2. 相同之处
	+ 变量是用于存储信息的***容器***，所以他们都是需要申请内存来存储值，通过变量名可以引用值，也可以修改变量名的值  
	+ 都是等号右边赋值给等号左边 :)  
	+ 命名规则基本一致，具体参考下面的文章 [Java和JavaScript命名规则](#jumpId-NameType)  
	+ `++a`代表取`++`运算之后的值，`a++`表示取`++`运算之前的值  


<span id="jumpId-NameType"></span>
#### Java和JavaScript命名规则
1. 变量命名必须以字母、下划线`_`或者`$`为开头，其他字符可以是字母、`_`、`$`或数字  
2. 变量名中不允许使用空格和其他标点符号，首个字不能为数字，参考第一条  
3. 变量名长度不能超过255个字符***注意!!!这是JavaScript的规则，Java参考各个类型的大小范围***  
4. 变量名区分大小写，建议驼峰命名法  
5. 变量名必须放在同一行中  
6. 不能使用关键字，分别具体是哪些自行百度  
7. 参考博文
	+ [命名规则中的内容参考了这篇博文 —— js变量命名规则](https://www.cnblogs.com/chinasitu/p/7245203.html)
	+ [命名规则中的内容参考了这篇博文 —— Java变量命名规则](https://blog.csdn.net/haopeng7816/article/details/85036928)


### 关于数据类型  
1. 不同之处
	+ 提供的数据类型不同，具体可以参考下面 [Java数据类型](#jumpId-JavaType) & [JavaScript数据类型](#jumpId-JsType) 两篇文章   
	+ 类型转换并不相同，具体可以参考下面 [Java中的类型转换规则](#jumpId-JavaTypeChange) & [JavaScript中的类型转换规则](#jumpId-JsTypeChange) 两篇文章   
2. 相同之处
	+ 在Java和JavaScript中都分为基本数据类型和引用数据类型两种  


<span id="jumpId-JavaType"></span>
#### Java数据类型
1. 基本数据类型  
	+ 8种基本类型，***注意!!!***下面括号是默认值  
	+ 6种数字类型，其中4个整数型`byte`(0b)&`short`(0s)&`int`(0)&`long`(0L)，2个浮点型`float`(0.0f)&`double`(0.0d)  
	+ 1种字符类型`char`(无默认值，大小范围是`\u0000`-`\uffff`，等效十进制`0`~`65535`)，
		关于`char`值需要提一句的是，`字符A`的十进制值是65，`字符a`的十进制值是97，后续字母依次每个加一，
		有个概念叫`ascii码`有兴趣的可以深入了解下  
	+ 1种布尔类型`boolean`(false)  
	+ ***注意!!!***数字类型的结尾字母不需要考虑大小写，都可以  
	+ 在计算机中负数由补码进行表示，`补码 = 源码取反 + 1`，举个例子：
		`22，在计算机中的表示为：00010110；-22，取反：11101001，加1：11101010`  
2. 引用数据类型  
	+ String、对象、数组、类、接口 & .etc  
	+ 所有引用类型的默认值都是`null`  
	+ 一个引用变量可以用来引用任何与之兼容的类型  


<span id="jumpId-JsType"></span>
#### JavaScript数据类型  
1. 基本数据类型
	+ 字符串 `String`，单引号双引号包裹都可以  
	+ 数字 `Number`，不分整数和小数，说实话这点写起来比Java爽，但是会有危险 :)  
	+ 布尔 `Boolean`， `true`/`false` 
	+ 空 `Null`，可以将变量值设置为`null`来清空值  
	+ 未定义 `Undefined`，表示变量不含有值  
	+ `Symbol`，ES6中添加的新类型  
2. 引用数据类型  
	+ 对象 `Object`，由花括号分隔，在括号内部，对象的属性以名称和值对的形式`name:value`来定义，属性由逗号分隔  
	+ 数组 `Array`，`new`一个或者直接赋值(隐式创建)  
	+ 日期 `Date`，主要是日期时间的一些操作，不过日常工作中习惯用`momentjs`处理日期和时间  
3. 需要注意的一点
	+ JavaScript中的类型是针对值来说，而不是针对变量  


<span id="jumpId-JavaTypeChange"></span>
#### Java中的类型转换规则
1. 隐式（默认）类型转换  
	+ 基本类型的默认转换规则 `byte/short/char -> int -> long -> float -> double`  
	+ 当`byte/short/char`相互之间不能转换，它们参与运算首先将转换成`int`类型再进行运算  
	+ 数字和字符串相加，数字会自动装换成字符串  
2. 显示（强制）类型转换  
	+ `目标类型 变量名 = (目标类型)被转换的类型`  
	+ 容量大的数据类型转换为容量小的数据类型时，要加上强制转换符，但可能造成精度降低或溢出  
	+ 有多种类型的数据混合运算时，系统首先自动的将所有数据转换成容量最大的那一种数据类型，然后再进行计算  
3. 有趣的例子  
	+ 提问：Java是如何处理强制类型转换的溢出处理呢？
	+ `byte  a = (byte)130`  
	+ 答：在计算机中，所有的数据都是存储的补码形式，那么130首先被当成int型存储，四个字节32位，
		它的补码如下：`0000 0000  0000 0000  0000 0000  1000 0010`，转换为byte类型，进行截取，
		高字节部分去除，保留低字节部分，得到转换为byte类型的补码为：`1000 0010`，
		我们将其转换为源码：补码（1000 0010）-> 反码（1000 0001）-> 原码（1111 1110）为 -126，所以最后的答案是-126  
	+ [参考资料](https://www.cnblogs.com/baby-lily/p/10658051.html)


<span id="jumpId-JsTypeChange"></span>
#### JavaScript中的类型转换规则
JavaScript是弱类型语言，变量类型完全由当前值决定，这种类型就叫弱类型。
首先要记住的是，JavaScript中的类型转化，它得到的结果永远是基本类型，也就可以分为两种情况，
基本类型和基本类型之间的转化，引用类型转化为基本类型，不可能出现基本类型转化为引用类型，
类型转化出现最多就是转化成`Number`, `String`, 和`Boolean`  


### Java中的主动类型转换常用方法  
[这里感觉可以另外写一个专题博文，后期再补档，到时候再补个链接过来，有兴趣的同学可以先阅读这篇文章](https://blog.csdn.net/weixin_42103983/article/details/106750921)


### JavaScript中的主动类型转换常用方法  
1. 将其他类型值（数字、布尔、日期）转字符串，一把都是用`toString()`  
2. 字符串转数字，`parseInt()`转换成整数，`parseFloat()`转换成浮点数，整数和浮点数都是`Number`类型  
3. 将布尔转换成数字可以使用方法`Number()`  
4. 当JavaScript尝试操作一个***错误***的数据类型时，会自动转换为***正确***的数据类型  
	+ 举个例子：`5 + null  // 返回数字5，null 转换为 0`  
	+ 举个例子：`'5' + null  // 返回字符串5null，null 转换为 'null'`  
	+ 其他例子就是字符串类型数字和数字类型数字之间的运算都会转成数字运算  
5. 将其他类型值转换成布尔值类型  
	+ 原始类型值转换方法，这六个类型`undefined/null/-0/0/NaN/空字符串`全部为`false`，其他全部为`true`  
	+ 所有对象的布尔值都是`true`，甚至`false`对应的布尔值对象也是`true`，空对象空数组也都是`true`  
	+ 举个例子：`console.log(Boolean(new Boolean(false)))  // 输出true`
6. 隐式类型的转换是系统进行运算时自动进行的，但是调用的方法都是显式类型转换的方法  
	+ 一元运算符`+`可以隐式的将字符串转为数字，如果变量不能转换成数字，他仍会成为一个数字，但值会是`NaN`，
		举个例子：`var a = 5; console.log(c = +a);  // 输出数字5`，
		举个例子：`var b = 'abc'; console.log(b = +abc);  // 输出NaN`  
	+ `- * / %`（减号、乘号、除号、取余运算符）运算时会通过`Number()`把数据转换成`Number`类型后，再进行运算  
	+ `&& || !`（与或非运算符）运算时会通过`Boolean()`把数据转换成`Boolean`类型后，再进行运算  
	+ `< > <= >= == !=`（比较运算符）运算时，当数字和字符串比较大小时，会隐示将字符串转换成`Number`类型进行比较，
		而当字符串和字符串比较大小时，则比较的是`ascii码`的大小，最后返回的则是布尔值  
	+ ***注意!!!***比较运算符中`undefined`和`null`是不会发生类型转换的，只有相等的值会返回`true`  
	+ ***注意!!!*** 全局`isNaN()`函数会将测试值通过`Number()`转换为数字，然后对其进行测试，
		但是`Number.isNaN()`不会将值转换为数字，并且不会为任何非数字类型的值返回`true`  
7. 如果用`==`来判断两个数值是否相等，由于会发生隐式类型转换，所以是非常存在非常大的漏洞的，
	为了解决这一问题，引入了`===`（绝对等于）和`!==`（绝对不等于）
8. [参考资料一](https://www.runoob.com/js/js-type-conversion.html)、[参考资料二](https://www.jb51.net/article/136520.htm)

我是[fx67ll.com](https://fx67ll.com)，如果您发现本文有什么错误，欢迎在评论区讨论指正，感谢您的阅读！  
如果您喜欢这篇文章，欢迎访问我的 [本文github仓库地址](https://github.com/fx67ll/fx67llJava/blob/main/java-blog/2021/2021-10/variable-datatype.md)，为我点一颗Star，Thanks~ :)  
***转发请注明参考文章地址，非常感谢！！！***